From f43ae47af420bb217dc32953a2c40706909af391 Mon Sep 17 00:00:00 2001
From: fli <fupan.li@windriver.com>
Date: Wed, 7 Sep 2016 03:29:52 -0700
Subject: [PATCH 1/2] iiot-kit: fix the issue of host cross building

Signed-off-by: fli <fupan.li@windriver.com>
---
 IIoT_Kit/Maxim_31855_Pmod/Linux/makefile | 7 +++----
 IIoT_Kit/STM_HTS221/Linux/makefile       | 8 ++++----
 2 files changed, 7 insertions(+), 8 deletions(-)

diff --git a/IIoT_Kit/Maxim_31855_Pmod/Linux/makefile b/IIoT_Kit/Maxim_31855_Pmod/Linux/makefile
index aa05d44..edc2917 100644
--- a/IIoT_Kit/Maxim_31855_Pmod/Linux/makefile
+++ b/IIoT_Kit/Maxim_31855_Pmod/Linux/makefile
@@ -1,5 +1,4 @@
-CC = gcc
-CFLAGS = -Wall
+CC ?= gcc
 OUT = maxim31855_sensor
 SRCS := $(wildcard *.c)
 OBJS := ${SRCS:.c=.o}
@@ -7,10 +6,10 @@ DEPS := $(wildcard *.h)
 
 
 $(OUT): $(OBJS)
-	$(CC) $(CFLAGS) -o $(OUT) $(OBJS)
+	$(CC) $(CFLAGS) -Wall -o $(OUT) $(OBJS)
 
 %.o: %.c $(DEPS)
-	$(CC) $(CFLAGS) -c $< -o $@
+	$(CC) $(CFLAGS) -Wall -c $< -o $@
 
 .PHONY: clean
 
diff --git a/IIoT_Kit/STM_HTS221/Linux/makefile b/IIoT_Kit/STM_HTS221/Linux/makefile
index 6bc98d5..64b70e0 100644
--- a/IIoT_Kit/STM_HTS221/Linux/makefile
+++ b/IIoT_Kit/STM_HTS221/Linux/makefile
@@ -1,15 +1,15 @@
-CC = gcc
-CFLAGS = -Wall
+CC ?= gcc
+#CFLAGS = -Wall
 OUT = hts221_sensor
 SRCS := $(wildcard *.c)
 OBJS := ${SRCS:.c=.o}
 DEPS := $(wildcard *.h)
 
 $(OUT): $(OBJS)
-	$(CC) $(CFLAGS) -o $(OUT) $(OBJS)
+	$(CC) $(CFLAGS) -Wall -o $(OUT) $(OBJS)
 
 %o:%c $(DEPS)
-	$(CC) $(CFLAGS) -c $< -o $@
+	$(CC) $(CFLAGS) -Wall -c $< -o $@
 
 .PHONY: clean
 
-- 
2.9.3

